#!/bin/sh
#
#	$Id$
#

[ -f /etc/sysconfig/i18n ] && . /etc/sysconfig/i18n
[ -f /etc/sysconfig/console ] && . /etc/sysconfig/console

case "$LANG" in
    *.utf8|*.UTF-8)
    if [ -x /bin/unicode_start ] && /sbin/consoletype fg ; then
	exec unicode_start $SYSFONT $SYSFONTACM
    fi
    ;;
esac

if [ -x /usr/bin/consolechars -o -x /bin/consolechars ]; then
	if [ -n "$SYSFONT" ]; then
		consolechars -f $SYSFONT
	elif [ -n "$CONSOLEFONT" ]; then
		consolechars -m ${CONSOLEMAP:-trivial.trans} -f $CONSOLEFONT
	fi
	if [ -n "$KEYTABLE" ]; then
		loadkeys $KEYTABLE < /dev/tty0 > /dev/tty0
	fi


elif [ -x /usr/bin/setfont ]; then
	if [ -n "$SYSFONT" ]; then
		/usr/bin/setfont $SYSFONT
	elif [ -n "$CONSOLEFONT" ]; then
		/usr/bin/setfont $CONSOLEFONT
	fi
else
	echo "can't set font"
	exit 1
fi
