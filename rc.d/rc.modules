#!/bin/sh
# (c) MandrakeSoft, Chmouel Boudjnah <chmouel@mandrakesoft.com>
# Modified:
#	Arkadiusz Miskiewicz <misiek@pld-linux.org>
#
# rc.modules: launch modules specified in /etc/modules
# $Id$

[ -f /etc/modules ] || exit 0

. /etc/rc.d/init.d/functions

# Loop over every line in /etc/modules.
(egrep -v "^(#|[[:blank:]]*#)" /etc/modules; echo) | # make sure there is a LF at the end
while read module args
do
  [ -z "$module" ] && continue
  _modprobe single $module
done

