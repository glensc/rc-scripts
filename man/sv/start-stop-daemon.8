.\" Translation of CVS revision 1.15
.TH START\-STOP\-DAEMON 8 "15 mars 1997" "Debianprojektet" "dpkg-verktygen"
.SH NAMN
start\-stop\-daemon \- startar och stoppar bakgrundsprocesser
.SH SYNOPS
.B start-stop-daemon
.BR -S | --start
.IR flaggor
.RB [ \-\- ]
.IR parametrar
.HP
.B start-stop-daemon
.BR -K | --stop
.IR flaggor
.HP
.B start-stop-daemon
.BR -H | --help
.HP
.B start-stop-daemon
.BR -V | --version
.SH BESKRIVNING
.B start\-stop\-daemon
används för att kontrollera skapande och avslutande av processer på
systemnivå.
Med hjälp av flaggorna
.BR --exec ", " --pidfile ", " --user " och " --name
kan
.B start\-stop\-daemon
ställas in att hitta existerande instanser av en körande process.

Med
.B --start
letar
.B start\-stop\-daemon
efter om en angiven process existerar, och om så är fallet gör
.B start\-stop\-daemon
ingenting och avslutar med status 1 (0 om
.B --oknodo
anges).
Om en sådan process inte existerar startas en instans, antingen med
programfilen som anges med
.BR --exec ,
(eller, om den anges, med
.BR --startas ).
Eventuella parametrar som ges efter
.BR --
på kommandoraden skickas omodiferade till programmet som startas.
Om
.B --retry
anges kommer
.B start-stop-daemon
kontrollera att processen har avslutats.

Med 
.B --stop
testar
.B start\-stop\-daemon
också om den angivna processen existerar, och om så är fallet sänder
.B start\-stop\-daemon
den signal som anges av
.B --signal
till den, och avslutar med status 0.
Om en sådan process inte existerar avslutar
.B start\-stop\-daemon
med status 1 (0 om
.BR --oknodo
anges).

.SH FLAGGOR

.TP
\fB-x\fP|\fB--exec\fP \fIprogramfil\fP
Sök efter processer som är instanser av denna programfil (enligt
.B /proc/\fIpid\fB/exe\fP
).
.TP
\fB-p\fP|\fB--pidfile\fP \fIpidfil\fP
Sök efter processer vars process-id anges i
.IR pidfil .
.TP
\fB-u\fP|\fB--user\fP \fIanvändarnamn\fP|\fIanvändar-id\fP
Sök efter processer som ägs av den användare som anges med
.I användarnamn 
eller
.IR användar-id .
.TP
\fB-n\fP|\fB--name\fP \fIprocessnamn\fP
Sök efter processer med namnet
.I processnamn
(enligt
.BR /proc/\fIpid\fB/stat\fP ).
.TP
\fB-s\fP|\fB--signal\fP \fIsignal\fP
Tillsammans med
.B --stop
anger detta den signal som skall sändas till processen som stoppas (förval
är 15).
.TP
\fB-R\fP|\fB--retry\fP \fItimeout\fP|\fIschema\fP
Tillsammans med
.B --stop
anger detta att
.B start-stop-daemon
skall kontrollera att processen avslutas.
Den testar flera gånger efter matchande processer som körs, tills ingen
längrefinns kvar.
Om processerna inte avslutar kommer programmet utföra ytterligare
kommandon enligt schemat.

Om
.I timeout
anges istället för
.I schema
kommer schemat
.IB signal / timeout /KILL/ timeout
att användas, där
.I signal
är den signal som anges med
.BR --signal .

.I schema
är den lista med åtminstone två poster avdelade med snedstreck
.RB ( / );
varje post är antingen
.BI - signalnummer
eller [\fB\-\fP]\fIsignalnamn\fP,
vilket betyder att signalen skall sändas, eller
.IR timeout ,
vilket anger det antal sekunder programmet skall vänta på att processen
avslutar, eller
.BR forever ,
vilket betyder att resten av schemat skall repetera för evigt om så behövs.

Om slutet på schemat nås och
.BR forever
inte anges kommer
.B start-stop-daemon
avslutas med felkod 2.
Om ett schema anges kommer eventuell signal angiven med
.B --signal
att ignoreras.
.TP
\fB-a\fP|\fB--startas\fP \fIsökväg\fP
Tillsammans med
.B --start
anger detta att processen som anges med
.I sökväg
skall startas.
Om den inte anges används parametern som gavs till
.BR --exec .
.TP
.BR -t | --test
Skriver ut vad som skulle ha utförts och sätter returvärdet, men utför
ingenting.
.TP
.BR -o | --oknodo
Returnerar felstatus 0 i stället för 1 om ingen åtgärd utförs/skulle
utförts.
.TP
.BR -q | --quiet
Skriv inte informationsmeddelanden; visa endast felmeddelanden.
.TP
\fB-c\fP|\fB--chuid\fP \fIanvändarnamn\fR|\fIanvändar-id\fP
Byt till detta användarnamn/användar-id innan processen startas.
Du kan även ange en grupp genom att lägga till ett kolontecken,
.BR : ,
följt av gruppnamnet eller grupp-id på samma sätt som du skull gjort till
"chown"-kommandot
(\fIanvändarefP\fB:\fP\fIgrupp\fP).
När du använder detta alternativ måste du ha i åtanke att även både primär
och tilläggs-grupp sätts, även om
.BR --group -flaggan
inte anges.
.BR --group -flaggan
är bara till för grupper som användaren normalt inte är en medlem
i (t.ex för att lägga till gruppmedlemskap för enskilda processer för
standardanvändare såsom "nobody").
.TP
\fB-r\fP|\fB--chroot\fP \fIrot\fP
Byt katalog och rot till
.B rot
innan processen startas.
Observera att även pidfilen skrivs efter chroot har utförts.
.TP
.BR -b | --background
Används typiskt med program som inte kopplar loss sig av sig själva.
Denna flagga kommer tvinga
.B start-stop-daemon
att förgrena sig (fork) innan processen startar, och tvinga den grenen
att köra i bakgrunden.
.B VARNING: start-stop-daemon
kan inte kontrollera felstatus för processer som av
.B någon som helst
anledning misslyckas med att exekvera.
Detta är en sista utväg, och är endast avsett för program som det normalt
sett inte är någon idé att på egen hand förgrena, eller där det inte är
möjligt att lägga till koden för detta på egen hand.
.TP
.BR -N | --nicelevel
Detta ändrar prioriteten på processen innan den startas.
.TP
.BR -m | --make-pidfile
Används när ett program startas som inte skapar sin egen pidfil.
Denna flagga kommer att göra så att
.B start-stop-daemon
skapar filen som anges med
.B --pidfile
och lägga process-id i den precis innan processen startas.
Observera att den inte kommer att tas bort när programmet stoppas.
.B OBSERVERA:
Denna funktion kanske inte alltid fungerar, något som huvudsakligen gäller
när programmet som startas förgrenar sig (fork) från sin huvudprocess, och
den är därför bara användbar i samband med flaggan
.BR --background .
.TP
.BR -v | --verbose
Skriv ut pratsamma informationsmeddelanden.
.TP
.BR -H | --help
Skriv ut hjälpinformation och avsluta sedan.
.TP
.BR -V | --version
Skriv ut versionsinformation och avsluta sedan.

.SH FÖRFATTARE
Marek Michalkiewicz <marekm@i17linuxb.ists.pwr.wroc.pl>, baserat på en
tidigare version av Ian Jackson <ian@chiark.greenend.org.uk>.

Manualsida av Klee Dienes <klee@mit.edu>, delvis omformaterad av
Ian Jackson, översatt av Peter Karlsson <peterk@debian.org>.

